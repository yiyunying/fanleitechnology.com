"use strict";var GSlightboxInstancesproducts=[];jQuery(function(e){function t(t=document){let s=t.getElementsByClassName("gspb-product-image-gallery");for(let r=0;r<s.length;r++){let l=s[r],i=l.classList.contains("disable-mobile-vertical"),a=window.innerWidth<576&&i?"horizontal":l.getAttribute("data-direction");if(gspbGenerateSliderThumbs(l,a),window.addEventListener("resize",function(){a=window.innerWidth<576&&i?"horizontal":l.getAttribute("data-direction"),i&&gspbGenerateSliderThumbs(l,a)}),l.closest(".product")){let o=null!==l.closest(".product").querySelector(".variations_form.cart")?JSON.parse(l.closest(".product").querySelector(".variations_form.cart").getAttribute("data-product_variations")):"";if(o.length){function c(e){if("click"===e){let s=t.getElementsByClassName("gs-var-selector");if(s.length)for(let r=0;r<s.length;r++){let i=s[r].getElementsByClassName("gs-var-label"),a=s[r].getElementsByClassName("gs-var-input");for(let c=0;c<i.length;c++)i[c].classList.remove("gshidden");for(let n=0;n<a.length;n++)a[n].checked=!1}setTimeout(d,100)}else d();function d(){let e=l.closest(".product").querySelector("input.variation_id").value,t=o.filter(t=>parseInt(t.variation_id)===parseInt(e));if(t.length){let s=t[0].image.src,r=t[0].image.gallery_thumbnail_src,i=t[0].image.srcset||"",a=l.querySelector(".gspb-gallery-full .swiper-slide-main-image img"),c=l.querySelector(".gspb-gallery-thumb .swiper-slide-main-image img");if(null!==l.querySelector(".slide-variation-images")){l.classList.add("slide-variation-images-selector");let n=l.querySelectorAll(".gspb-gallery-thumb .swiper-wrapper > div"),d=l.querySelectorAll(".gspb-gallery-full .swiper-wrapper > div");n.forEach((t,s)=>{0!=s&&(t.classList.contains("slide-variation-"+e)?(t.classList.remove("slide-variation-hidden"),t.classList.add("swiper-slide"),d[s].classList.remove("slide-variation-hidden"),d[s].classList.add("swiper-slide")):(t.classList.remove("swiper-slide"),t.classList.add("slide-variation-hidden"),d[s].classList.remove("swiper-slide"),d[s].classList.add("slide-variation-hidden")))}),a&&(a.setAttribute("src",s),a.setAttribute("url",s),a.closest(".imagelink")&&a.closest(".imagelink").setAttribute("href",s),a.setAttribute("srcset",i),GSlightboxInstancesproducts.length&&(GSlightboxInstancesproducts.forEach(e=>{e.destroy()}),GSlightboxInstancesproducts=[],GSlighboxwoogallaries())),c&&c.setAttribute("src",r),l.querySelector(".gspb-gallery-thumb").swiper.update(),l.querySelector(".gspb-gallery-full").swiper.update(),l.querySelector(".gspb-gallery-full").swiper.slideTo(0)}else{let u=l.querySelectorAll(".gspb-gallery-thumb .swiper-slide img"),g=-1;u.forEach((e,t)=>{let r=e.getAttribute("data-main-featured-image-src");r&&r===s&&(g=t)}),-1!==g?void 0!==l.querySelector(".gspb-gallery-full").swiper&&l.querySelector(".gspb-gallery-full").swiper.slideTo(g):(a&&(a.setAttribute("src",s),a.setAttribute("url",s),a.closest(".imagelink")&&a.closest(".imagelink").setAttribute("href",s),a.setAttribute("srcset",i),GSlightboxInstancesproducts.length&&(GSlightboxInstancesproducts.forEach(e=>{e.destroy()}),GSlightboxInstancesproducts=[],GSlighboxwoogallaries())),c&&c.setAttribute("src",r),void 0!==l.querySelector(".gspb-gallery-full").swiper&&l.querySelector(".gspb-gallery-full").swiper.slideTo(0))}}else{let p=l.querySelector(".gspb-gallery-full .swiper-slide-main-image img"),b=l.querySelector(".gspb-gallery-thumb .swiper-slide-main-image img");if(p&&(p.setAttribute("src",p.getAttribute("data-main-featured-image-src")),p.setAttribute("url",p.getAttribute("data-main-featured-image-src")),p.closest(".imagelink").setAttribute("href",p.getAttribute("data-main-featured-image-src")),p.setAttribute("srcset",p.getAttribute("data-main-featured-image-srcset")),GSlightboxInstancesproducts.length&&(GSlightboxInstancesproducts.forEach(e=>{e.destroy()}),GSlightboxInstancesproducts=[],GSlighboxwoogallaries())),b&&b.setAttribute("src",b.getAttribute("data-main-featured-image-src")),null!==l.querySelector(".slide-variation-images")){l.classList.remove("slide-variation-images-selector");let m=l.querySelectorAll(".gspb-gallery-thumb .swiper-wrapper > div"),y=l.querySelectorAll(".gspb-gallery-full .swiper-wrapper > div");m.forEach((e,t)=>{e.classList.remove("slide-variation-hidden"),e.classList.add("swiper-slide"),y[t].classList.remove("slide-variation-hidden"),y[t].classList.add("swiper-slide")}),l.querySelector(".gspb-gallery-thumb").swiper.update(),l.querySelector(".gspb-gallery-full").swiper.update(),l.querySelector(".gspb-gallery-full").swiper.slideTo(0)}}}}null!==l.closest(".product").querySelector(".variations_form.cart")&&e(l.closest(".product").querySelector(".variations_form.cart")).on("change",function(){c("change")}),null!==l.closest(".product").querySelector(".reset_variations")&&l.closest(".product").querySelector(".reset_variations").addEventListener("click",()=>c("click"))}}}}t(),document.addEventListener("gsAjaxFilterSuccess",function(e){let s=e.detail;t(s)})});const gspbGenerateSliderThumbs=(e,t)=>{let s=e.querySelector(".gspb-gallery-thumb");if(s){let r=parseFloat(s.dataset.slidesperview),l=parseFloat(s.dataset.slidesperviewmd),i=parseFloat(s.dataset.slidesperviewsm),a=parseFloat(s.dataset.slidesperviewxs),o=parseInt(s.dataset.spacebetween),c=parseInt(s.dataset.spacebetweenmd),n=parseInt(s.dataset.spacebetweensm),d=parseInt(s.dataset.spacebetweenxs),u=s.swiper;void 0!==u&&u.destroy();let g=e.querySelector(".gspb-gallery-full"),p=g.swiper;void 0!==p&&p.destroy();let b=new Swiper(s,{loop:!1,spaceBetween:o,slidesPerView:r,freeMode:!1,watchSlidesProgress:!0,direction:t,noSwiping:!0,noSwipingClass:"swiper-no-swiping",breakpoints:{236:{slidesPerView:a||r,spaceBetween:d||o},576:{slidesPerView:i||r,spaceBetween:n||o},768:{slidesPerView:l||r,spaceBetween:c||o},992:{spaceBetween:o,slidesPerView:r}}}),m="",y="",h=e.closest(".gs-slider-root");h||(h=e.closest(".gspb_row")),h&&(m=h.querySelector(".gs-slider-custom-btn-right"),y=h.querySelector(".gs-slider-custom-btn-left")),new Swiper(g,{loop:!1,spaceBetween:0,grabCursor:!0,thumbs:{swiper:b},navigation:{nextEl:m||e.querySelector(".swiper-button-next"),prevEl:y||e.querySelector(".swiper-button-prev")}})}};function GSlighboxwoogallaries(){let e=document.getElementsByClassName("gspb_product_gallery_lightbox");e.length&&Array.from(e).forEach(e=>{let t=new SimpleLightbox({elements:e.querySelectorAll(".imagelink"),videoRegex:RegExp(/\.mp4|youtube.com|vimeo.com/)});GSlightboxInstancesproducts.push(t)})}GSlighboxwoogallaries();